<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="robots" content="noindex">
  <title>Student Practical Group Calendar</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: lightgray;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .header {
      background-color: red;
      color: white;
      padding: 30px;
      text-align: center;
    }

    .header h1 { font-size: 2.2rem; font-weight: 300; margin-bottom: 6px; }
    .header p { opacity: 0.95; }

    .calendar-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 24px;
      background: #f8f9fa;
      border-bottom: 1px solid #dee2e6;
    }

    .nav-btn {
      background: #007bff;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .nav-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      opacity: 0.6;
    }
    
    .month-year { font-size: 1.25rem; font-weight: 600; color: #2c3e50; }

    /* Calendar grid */
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      background: #dee2e6;
      margin: 20px;
      border-radius: 10px;
      overflow: hidden;
    }

    .day-header {
      background: #495057;
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: 600;
      font-size: 14px;
    }

    /* Fixed-size day cells (keeps each day same height) */
    .day {
      background: white;
      height: 140px;         /* <-- fixed height for each day cell */
      padding: 8px;
      position: relative;
      overflow: hidden;
    }

    .day:hover {
      background: #f8f9fa;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      z-index: 5;
    }

    .day-number { font-weight: 600; margin-bottom: 6px; color: #495057; }

    .other-month { color: #adb5bd; background: #f8f9fa; }

    .today {
      background: #fff3cd !important;
      border: 2px solid #ffc107;
    }

    .session {
      display: block;
      color: white;
      padding: 4px 6px;
      margin: 2px 0;
      border-radius: 4px;
      font-size: 11px;
      cursor: pointer;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .session:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.12); }

    /* Format + Module-based classes - used by JS: e.g. "lecture bioXXXX" */
    /* BIO2316 */
    .lecture.bio2316 { background-color: yellow; color: #111}
    .field.bio2316 { background-color: #74B72E; color: white}
    .lab.bio2316 {background-color: #0492C2; color: white}
    .tutorial.bio2316 {background-color: #B200ED; color: white}
    .assessment.bio2316 { background-color: red; color: #111;
    }

    /* modal */
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
    .modal.show { display: block; }
    .modal-content {
      background-color: white;
      margin: 8% auto;
      padding: 22px;
      border-radius: 12px;
      width: 92%;
      max-width: 640px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.25);
      transform: translateY(-20px);
      opacity: 0;
      transition: all 0.24s ease;
    }
    .modal.show .modal-content { transform: translateY(0); opacity: 1; }
    .close { float: right; font-size: 26px; font-weight: 700; cursor: pointer; color: #777; }
    .modal h2 { color: #2c3e50; margin-bottom: 10px; }

    .modal-info { display: grid; gap: 10px; }
    .info-row { display:flex; gap:12px; align-items:center; padding:8px; background:#f8f9fa; border-radius:8px; }
    .info-label { min-width: 110px; font-weight:600; color:#495057; }
    .staff-badge { display:inline-block; background:#007bff; color:white; padding:4px 10px; border-radius:12px; font-weight:600; }
    .module-badge { display:inline-block; padding:4px 10px; border-radius:12px; font-weight:600; color:white; }

    .module-bio2316 { background: #4facfe; }  /* blue */

    /* Legend */
    .legend { display:flex; justify-content:center; gap:18px; padding:18px; background:#f8f9fa; flex-wrap:wrap; border-top:1px solid #eee; }
    .legend-item { display:flex; gap:8px; align-items:center; font-weight:600; color:#333; }
    .legend-color { width:24px; height:16px; border-radius:4px; border:1px solid rgba(0,0,0,0.05); }

    /* legend colors matching classes above */
    .legend-color.bio2316-lecture        { background:yellow;  }
    .legend-color.bio2316-lab           { background: #0492C2;}
    .legend-color.bio2316-field          { background: #74B72E;}
    .legend-color.bio2316-tutorial            { background: #B200ED;}
    .legend-color.bio2316-assessment     { background:red;     }

    .no-sessions { text-align:center; padding:40px; color:#6c757d; font-style:italic; }

    @media (max-width: 900px) {
      .day { height: 110px; }
      .group-selector select { width: 100%; max-width: 240px; }
    }

    @media (max-width: 560px) {
      .header h1 { font-size: 1.4rem; }
      .day { height: 100px; padding:6px; }
      .session { font-size:10px; padding:3px 5px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>BIO2316 Course Calendar</h1>
    </div>

    <div class="calendar-nav">
      <button class="nav-btn" onclick="previousMonth()">&#8592; Previous</button>
      <div class="month-year" id="monthYear"></div>
      <button class="nav-btn" onclick="nextMonth()">Next &#8594;</button>
    </div>

    <!-- LEGEND: only lectures & labs (class tests & feedback removed from legend) -->
    <div class="legend">
      <div class="legend-item">
        <div class="legend-color bio2316-lecture"></div>
        <span>BIO2316 Lectures</span>
      </div>
        <div class="legend-item">
        <div class="legend-color bio2316-tutorial"></div>
        <span>BIO2316 Tutorials</span>
      </div>
      <div class="legend-item">
        <div class="legend-color bio2316-assessment"></div>
        <span>BIO2316 Assessments</span>
      </div>
      <div class="legend-item">
        <div class="legend-color bio2316-field"></div>
        <span>BIO2316 Fieldwork</span>
      </div>
      <div class="legend-item">
        <div class="legend-color bio2316-lab"></div>
        <span>BIO2316 Lab</span>
      </div>

    <div class="calendar" id="calendar"></div>

    <div class="no-sessions" id="noSessions" style="display: none;">
    </div>
  </div>

  <!-- Modal -->
  <div id="sessionModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <span class="close" aria-label="Close">&times;</span>
      <h2>Session Details</h2>
      <div class="modal-info">
        <div class="info-row"><div class="info-label">Date & Time:</div><div class="info-value" id="modalDateTime"></div></div>
        <div class="info-row"><div class="info-label">Session:</div><div class="info-value" id="modalLecture"></div></div>
        <div class="info-row"><div class="info-label">Location:</div><div class="info-value" id="modalLocation"></div></div>
        <div class="info-row"><div class="info-label">Staff:</div><div class="info-value"><span id="modalStaff" class="staff-badge"></span></div></div>
        <div class="info-row"><div class="info-label">Module:</div><div class="info-value"><span id="modalModule" class="module-badge"></span></div></div>
        <div class="info-row"><div class="info-label">Format:</div><div class="info-value" id="modalFormat"></div></div>
        <div class="info-row"><div class="info-label">Week:</div><div class="info-value" id="modalWeek"></div></div>
      </div>
    </div>
  </div>

  <script>
    // --- your original sessionData preserved exactly (unchanged) ---
    const sessionData = [
      // Week 18
      {week: 18, date: '2026-01-12', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Module Introduction', staff: 'NMG', format: 'Lecture', module: 'BIO2316'},
      {week: 18, date: '2026-01-14', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Brief: Species Portfolios & OSPEs', staff: 'NMG', format: 'Lecture', module: 'BIO2316'},
      
      // Week 19
      {week: 19, date: '2026-01-19', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Bioethics', staff: 'NMG', format: 'Lecture', module: 'BIO2316'},
      {week: 19, date: '2026-01-21', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Experimental/Study Design', staff: 'NMG', format: 'Lecture', module: 'BIO2316'},
      {week: 19, date: '2026-01-22', time: '09:00 - 11:00', location: 'MBC/TR1', day: 'T', lecture: 'GIS I', staff: 'NMG', format: 'Tutorial', module: 'BIO2316'},
      
      // Week 20
      {week: 20, date: '2026-01-26', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Botanical and Fungal Surveys', staff: 'GB', format: 'Lecture', module: 'BIO2316'},
      {week: 20, date: '2026-01-28', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Microbial Surveillance', staff: 'JC', format: 'Lecture', module: 'BIO2316'},
      
      // Week 21
      {week: 21, date: '2026-02-02', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Terrestrial Invertebrates', staff: 'NMG', format: 'Lecture', module: 'BIO2316'},
      {week: 21, date: '2026-02-04', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Aquatic Invertebrates', staff: 'RC', format: 'Lecture', module: 'BIO2316'},
      {week: 21, date: '2026-02-05', time: '09:00 - 11:00', location: 'MBC/TR1', day: 'T', lecture: 'GIS II', staff: 'NMG', format: 'Tutorial', module: 'BIO2316'},
      
      // Week 22 - READING WEEK
      
      // Week 23
      {week: 23, date: '2026-02-16', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Aerial Invertebrates', staff: 'NM', format: 'Lecture', module: 'BIO2316'},
      {week: 23, date: '2026-02-18', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Brief: Posters', staff: 'RC', format: 'Lecture', module: 'BIO2316'},
      {week: 23, date: '2026-02-19', time: '09:00 - 11:00', location: 'MBC/TR1', day: 'T', lecture: 'Statistics I', staff: 'NMG', format: 'Tutorial', module: 'BIO2316'},
      {week: 23, date: '2026-02-19', time: '16:00', location: '', day: 'T', lecture: 'SPECIES JOURNAL HAND IN', staff: '', format: 'Assessment', module: 'BIO2316'},
      
       //week 24
      {week: 24, date: '2026-02-23', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Small Mammal Surveys', staff: 'MS', format: 'Lecture', module: 'BIO2316'},
      {week: 24, date: '2026-02-25', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Large Mammal Surveys', staff: 'MS', format: 'Lecture', module: 'BIO2316'},

            //Week 25
      {week: 25, date: '2026-03-02', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Fish Surveys', staff: 'NM', format: 'Lecture', module: 'BIO2316'},
      {week: 25, date: '2026-03-04', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Bird Surveys', staff: 'NM', format: 'Lecture', module: 'BIO2316'},
      {week: 25, date: '2026-03-05', time: '09:00 - 11:00', location: 'MBC/TR1', day: 'T', lecture: 'Statistics II', staff: 'NMG', format: 'Tutorial', module: 'BIO2316'},
      
            //week 26
      {week: 26, date: '2026-03-09', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Estimating populations', staff: 'NM', format: 'Lecture', module: 'BIO2316'},
      {week: 26, date: '2026-03-11', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Monitoring Animal Behaviour', staff: 'NM', format: 'Lecture', module: 'BIO2316'},

            //week 27
      {week: 27, date: '2026-03-16', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Field Preparation Session', staff: 'NM', format: 'Lecture', module: 'BIO2316'},
      {week: 27, date: '2026-03-18', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Academic Writing', staff: 'NM', format: 'Lecture', module: 'BIO2316'},
      {week: 27, date: '2026-03-19', time: '09:00 - 11:00', location: 'MBC/TR1', day: 'T', lecture: 'Statistics III', staff: 'NMG', format: 'Tutorial', module: 'BIO2316'},
      {week: 27, date: '2026-03-20', time: '16:00', location: '', day: 'F', lecture: 'POSTER AND PEER ASSESSMENT HAND IN', staff: '', format: 'Assessment', module: 'BIO2316'},
      {week: 27, date: '2026-03-21', time: '09:00 - 15:30', location: 'Off site', day: 'S', lecture: 'Field Visit', staff: 'Various', format: 'Field', module: 'BIO2316'},
            
            //Week 28 - 30 = EASTER
            
            //Week 31
      {week: 31, date: '2026-04-13', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Managing Aquatic Systems', staff: 'AC', format: 'Lecture', module: 'BIO2316'},
      {week: 31, date: '2026-04-15', time: '09:00 - 10:00', location: 'DKB/01/028', day: 'W', lecture: 'Peatland Management', staff: 'GB', format: 'Lecture', module: 'BIO2316'},
            
            //Week 32
      {week: 32, date: '2026-04-20', time: '14:00 - 15:00', location: 'DKB/01/028', day: 'M', lecture: 'Woodland Management', staff: 'GB', format: 'Lecture', module: 'BIO2316'},
      {week: 32, date: '2026-04-23', time: '14:00 - 15:00', location: 'SBS Teaching Lab', day: 'T', lecture: 'OSPE', staff: 'NMG', format: 'Assessment', module: 'BIO2316'},
      {week: 32, date: '2026-04-23', time: '15:00 - 18:00', location: 'SBS Teaching Lab', day: 'T', lecture: 'Practical Session', staff: 'NMG', format: 'Lab', module: 'BIO2316'},
      
      //Week 34
      {week: 34, date: '2026-05-08', time: '16:00', location: '', day: 'F', lecture: 'FIELD REPORT HAND IN', staff: '', format: 'Assessment', module: 'BIO2316'},
            ];

    // --- calendar state & helpers ---
    let currentDate = new Date(2026, 0, 1); // Jan 2026
   //-- let selectedGroup = ''; ---

    const monthNames = ["January","February","March","April","May","June","July","August","September","October","November","December"];
    const dayNames = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];

   //function updateCalendar() { 
   //--  selectedGroup = document.getElementById('groupSelect').value; ---
   // renderCalendar(); ---
 //} 

    function renderCalendar() {
  const calendar = document.getElementById('calendar');
  const monthYear = document.getElementById('monthYear');
  const year = currentDate.getFullYear(), month = currentDate.getMonth();

  monthYear.textContent = `${monthNames[month]} ${year}`;
  
  // Disable/enable navigation buttons - Jan to May only
  document.querySelector('.nav-btn:first-child').disabled =
    (year === 2026 && month === 0);  // Jan
  document.querySelector('.nav-btn:last-child').disabled =
    (year === 2026 && month === 4); // May
    
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  const prevMonthDays = new Date(year, month, 0).getDate();

  calendar.innerHTML = '';

  // Headers
  dayNames.forEach(d => {
    const h = document.createElement('div');
    h.className = 'day-header';
    h.textContent = d;
    calendar.appendChild(h);
  });

  // Leading days from prev month
  for (let i = firstDay - 1; i >= 0; i--) {
    const cell = document.createElement('div');
    cell.className = 'day other-month';
    const num = document.createElement('div');
    num.className = 'day-number';
    num.textContent = prevMonthDays - i;
    cell.appendChild(num);
    calendar.appendChild(cell);
  }

  // Current month
  for (let day = 1; day <= daysInMonth; day++) {
    const cell = document.createElement('div');
    cell.className = 'day';
    const num = document.createElement('div');
    num.className = 'day-number';
    num.textContent = day;
    cell.appendChild(num);

    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
    sessionData.filter(s => s.date === dateStr).forEach(s => {
      const el = document.createElement('div');
      el.className = 'session';
      if (s.format) el.classList.add(s.format.toLowerCase());
      if (s.module) el.classList.add(s.module.toLowerCase());
      el.innerHTML = `${s.time} ${s.lecture}`;
      el.onclick = () => showSessionModal(s);
      cell.appendChild(el);
    });

    calendar.appendChild(cell);
  }

  // Trailing days for next month
  const totalCells = firstDay + daysInMonth;
  const nextDays = 7 - (totalCells % 7 === 0 ? 7 : totalCells % 7);
  for (let i = 1; i <= nextDays; i++) {
    const cell = document.createElement('div');
    cell.className = 'day other-month';
    const num = document.createElement('div');
    num.className = 'day-number';
    num.textContent = i;
    cell.appendChild(num);
    calendar.appendChild(cell);
  }
}

    // Modal functions
    function showSessionModal(s) {
      const modal = document.getElementById('sessionModal');
      const modalDateTime = document.getElementById('modalDateTime').textContent=`${new Date(s.date).toDateString()}, ${s.time}`;
      const modalLecture = document.getElementById('modalLecture').innerHTML=s.lecture;
      const modalLocation = document.getElementById('modalLocation').textContent=s.location||'';
      const modalStaff = document.getElementById('modalStaff').textContent=s.staff||'';
      const m = document.getElementById('modalModule');
      m.textContent=s.module;
      m.className='module-badge module-bio2316';
      const modalFormat = document.getElementById('modalFormat').textContent=s.format;
      const modalWeek = document.getElementById('modalWeek').textContent=s.week||'';
      modal.style.display='block';setTimeout(()=>modal.classList.add('show'),10);
      }

     function closeModal(){const m=document.getElementById('sessionModal');m.classList.remove('show');setTimeout(()=>m.style.display='none',220);}
    document.querySelector('.close').onclick=closeModal;
    window.onclick=e=>{if(e.target===document.getElementById('sessionModal'))closeModal();}

    // previous / next navigation - limit to Jan & May
    function previousMonth() {
      if (currentDate.getFullYear() === 2026 && currentDate.getMonth() === 0) {
    return; // already at Jan 2026 â do nothing
  }
  currentDate.setMonth(currentDate.getMonth() - 1);
  renderCalendar();
    }

    function nextMonth() {
  if (currentDate.getFullYear() === 2026 && currentDate.getMonth() === 4) {
    return; // already at May 2026 â do nothing
  }
  currentDate.setMonth(currentDate.getMonth() + 1);
  renderCalendar();
}

 window.previousMonth=previousMonth;window.nextMonth=nextMonth;
    renderCalendar();
  </script>
</body>
</html>
